<div class="sidebar-container desktop-sidebar" [class.collapsed]="isCollapsed">
  <div class="sidebar-header">
    <div class="header-top">
      <div class="logo">
        <mat-icon class="logo-icon">assignment</mat-icon>
        <div class="logo-info" *ngIf="!isCollapsed">
          <span class="logo-text">TCM</span>
          <p class="logo-subtitle">Test Case Management</p>
        </div>
      </div>
      <button mat-icon-button (click)="toggleSidebar()" class="toggle-btn">
        <mat-icon>{{ isCollapsed ? 'chevron_right' : 'chevron_left' }}</mat-icon>
      </button>
    </div>
  </div>

  <nav class="sidebar-nav">
    <a routerLink="/dashboard" routerLinkActive="active" class="nav-item" [matTooltip]="isCollapsed ? 'Dashboard' : ''">
      <mat-icon>dashboard</mat-icon>
      <span *ngIf="!isCollapsed">Dashboard</span>
    </a>

    <a routerLink="/projects" routerLinkActive="active" class="nav-item" [matTooltip]="isCollapsed ? 'Projects' : ''">
      <mat-icon>folder</mat-icon>
      <span *ngIf="!isCollapsed">Projects</span>
    </a>

    <a routerLink="/modules" routerLinkActive="active" class="nav-item" [matTooltip]="isCollapsed ? 'Modules' : ''">
      <mat-icon>view_module</mat-icon>
      <span *ngIf="!isCollapsed">Modules</span>
    </a>

    <a routerLink="/executions" routerLinkActive="active" class="nav-item" [matTooltip]="isCollapsed ? 'Executions' : ''">
      <mat-icon>play_circle</mat-icon>
      <span *ngIf="!isCollapsed">Executions</span>
    </a>

    <a routerLink="/test-cases" routerLinkActive="active" class="nav-item" [matTooltip]="isCollapsed ? 'Test Cases' : ''">
      <mat-icon>list_alt</mat-icon>
      <span *ngIf="!isCollapsed">Test Cases</span>
    </a>
  </nav>

  <div class="sidebar-footer">
    <div class="user-container" *ngIf="currentUser">
      <div class="user-avatar" [matTooltip]="isCollapsed ? currentUser.username : ''">
        <mat-icon *ngIf="isCollapsed">account_circle</mat-icon>
        <span *ngIf="!isCollapsed">{{ currentUser.username.charAt(0).toUpperCase() }}</span>
      </div>
      
      <div class="user-details" *ngIf="!isCollapsed">
        <div class="user-name">{{ currentUser.username }}</div>
        <div class="user-role" *ngFor="let role of currentUser.roles || []">
          {{ role }}
        </div>
      </div>

      <button class="logout-icon-btn" (click)="logout()" matTooltip="Logout">
        <mat-icon>logout</mat-icon>
      </button>
    </div>
  </div>
</div>

<!-- Mobile Bottom Navigation -->
<nav class="mobile-bottom-nav">
  <a routerLink="/dashboard" routerLinkActive="active" class="mobile-nav-item">
    <mat-icon>dashboard</mat-icon>
    <span>Home</span>
  </a>

  <a routerLink="/projects" routerLinkActive="active" class="mobile-nav-item">
    <mat-icon>folder</mat-icon>
    <span>Projects</span>
  </a>

  <a routerLink="/executions" routerLinkActive="active" class="mobile-nav-item">
    <mat-icon>play_circle</mat-icon>
    <span>Executions</span>
  </a>

  <a routerLink="/modules" routerLinkActive="active" class="mobile-nav-item">
    <mat-icon>view_module</mat-icon>
    <span>Modules</span>
  </a>

  <a routerLink="/test-cases" routerLinkActive="active" class="mobile-nav-item">
    <mat-icon>list_alt</mat-icon>
    <span>Tests</span>
  </a>

  <div class="mobile-nav-item" (click)="logout()" style="cursor: pointer;">
    <mat-icon class="logout-icon">logout</mat-icon>
    <span>Logout</span>
  </div>
</nav>
